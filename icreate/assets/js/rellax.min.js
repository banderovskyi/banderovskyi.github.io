!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Rellax=t()}("undefined"!=typeof window?window:global,function(){var e=function(t,o){function n(){if(3===r.options.breakpoints.length&&Array.isArray(r.options.breakpoints)){var e,t=!0,o=!0;if(r.options.breakpoints.forEach(function(n){"number"!=typeof n&&(o=!1),null!==e&&n<e&&(t=!1),e=n}),t&&o)return}r.options.breakpoints=[576,768,1201],console.warn("Rellax: You must pass an array of 3 numbers in ascending order to the breakpoints option. Defaults reverted")}var r=Object.create(e.prototype),i=0,a=0,l=0,s=0,p=[],d=!0,c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},m=null,u=!1;try{var w=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassive",null,w),window.removeEventListener("testPassive",null,w)}catch(f){}var x=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,v=window.transformProp||function(){var e=document.createElement("div");if(null===e.style.transform){var t,o=["Webkit","Moz","ms"];for(t in o)if(void 0!==e.style[o[t]+"Transform"])return o[t]+"Transform"}return"transform"}();if(r.options={speed:-2,verticalSpeed:null,horizontalSpeed:null,breakpoints:[576,768,1201],center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,verticalScrollAxis:"y",horizontalScrollAxis:"x",callback:function(){}},o&&Object.keys(o).forEach(function(e){r.options[e]=o[e]}),o&&o.breakpoints&&n(),t||(t=".rellax"),w="string"==typeof t?document.querySelectorAll(t):[t],0<w.length){if(r.elems=w,r.options.wrapper&&!r.options.wrapper.nodeType){if(!(w=document.querySelector(r.options.wrapper)))return void console.warn("Rellax: The wrapper you're trying to use doesn't exist.");r.options.wrapper=w}var h,b=function(){for(var e=0;e<p.length;e++)r.elems[e].style.cssText=p[e].style;for(p=[],a=window.innerHeight,s=window.innerWidth,e=r.options.breakpoints,h=s<e[0]?"xs":s>=e[0]&&s<e[1]?"sm":s>=e[1]&&s<e[2]?"md":"lg",g(),e=0;e<r.elems.length;e++){var t=void 0,o=r.elems[e],n=o.getAttribute("data-rellax-percentage"),i=o.getAttribute("data-rellax-speed"),l=o.getAttribute("data-rellax-xs-speed"),c=o.getAttribute("data-rellax-mobile-speed"),m=o.getAttribute("data-rellax-tablet-speed"),u=o.getAttribute("data-rellax-desktop-speed"),w=o.getAttribute("data-rellax-vertical-speed"),f=o.getAttribute("data-rellax-horizontal-speed"),x=o.getAttribute("data-rellax-vertical-scroll-axis"),v=o.getAttribute("data-rellax-horizontal-scroll-axis"),A=o.getAttribute("data-rellax-zindex")||0,E=o.getAttribute("data-rellax-min"),L=o.getAttribute("data-rellax-max"),S=o.getAttribute("data-rellax-min-x"),Y=o.getAttribute("data-rellax-max-x"),k=o.getAttribute("data-rellax-min-y"),O=o.getAttribute("data-rellax-max-y"),X=!0;l||c||m||u?t={xs:l,sm:c,md:m,lg:u}:X=!1,l=r.options.wrapper?r.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,r.options.relativeToWrapper&&(l=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)-r.options.wrapper.offsetTop);var R=r.options.vertical&&(n||r.options.center)?l:0,W=r.options.horizontal&&(n||r.options.center)?r.options.wrapper?r.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0;l=R+o.getBoundingClientRect().top,c=o.clientHeight||o.offsetHeight||o.scrollHeight,m=W+o.getBoundingClientRect().left,u=o.clientWidth||o.offsetWidth||o.scrollWidth,R=n?n:(R-l+a)/(c+a),n=n?n:(W-m+s)/(u+s),r.options.center&&(R=n=.5),t=X&&null!==t[h]?Number(t[h]):i?i:r.options.speed,w=w?w:r.options.verticalSpeed,f=f?f:r.options.horizontalSpeed,x=x?x:r.options.verticalScrollAxis,v=v?v:r.options.horizontalScrollAxis,i=y(n,R,t,w,f),o=o.style.cssText,X="",(n=/transform\s*:/i.exec(o))&&(X=o.slice(n.index),X=(n=X.indexOf(";"))?" "+X.slice(11,n).replace(/\s/g,""):" "+X.slice(11).replace(/\s/g,"")),p.push({baseX:i.x,baseY:i.y,top:l,left:m,height:c,width:u,speed:t,verticalSpeed:w,horizontalSpeed:f,verticalScrollAxis:x,horizontalScrollAxis:v,style:o,transform:X,zindex:A,min:E,max:L,minX:S,maxX:Y,minY:k,maxY:O})}T(),d&&(window.addEventListener("resize",b),d=!1,z())},g=function(){var e=i,t=l;return i=r.options.wrapper?r.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,l=r.options.wrapper?r.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset,r.options.relativeToWrapper&&(i=((document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset)-r.options.wrapper.offsetTop),!!(e!=i&&r.options.vertical||t!=l&&r.options.horizontal)},y=function(e,t,o,n,i){var a={};return e=100*(i?i:o)*(1-e),t=100*(n?n:o)*(1-t),a.x=r.options.round?Math.round(e):Math.round(100*e)/100,a.y=r.options.round?Math.round(t):Math.round(100*t)/100,a},A=function(){window.removeEventListener("resize",A),window.removeEventListener("orientationchange",A),(r.options.wrapper?r.options.wrapper:window).removeEventListener("scroll",A),(r.options.wrapper?r.options.wrapper:document).removeEventListener("touchmove",A),m=c(z)},z=function(){g()&&!1===d?(T(),m=c(z)):(m=null,window.addEventListener("resize",A),window.addEventListener("orientationchange",A),(r.options.wrapper?r.options.wrapper:window).addEventListener("scroll",A,!!u&&{passive:!0}),(r.options.wrapper?r.options.wrapper:document).addEventListener("touchmove",A,!!u&&{passive:!0}))},T=function(){for(var e,t=0;t<r.elems.length;t++){var o=p[t].verticalScrollAxis.toLowerCase(),n=p[t].horizontalScrollAxis.toLowerCase();e=-1!=o.indexOf("x")?i:0,o=-1!=o.indexOf("y")?i:0;var d=-1!=n.indexOf("x")?l:0;n=-1!=n.indexOf("y")?l:0,e=y((e+d-p[t].left+s)/(p[t].width+s),(o+n-p[t].top+a)/(p[t].height+a),p[t].speed,p[t].verticalSpeed,p[t].horizontalSpeed),n=e.y-p[t].baseY,o=e.x-p[t].baseX,null!==p[t].min&&(r.options.vertical&&!r.options.horizontal&&(n=n<=p[t].min?p[t].min:n),r.options.horizontal&&!r.options.vertical&&(o=o<=p[t].min?p[t].min:o)),null!=p[t].minY&&(n=n<=p[t].minY?p[t].minY:n),null!=p[t].minX&&(o=o<=p[t].minX?p[t].minX:o),null!==p[t].max&&(r.options.vertical&&!r.options.horizontal&&(n=n>=p[t].max?p[t].max:n),r.options.horizontal&&!r.options.vertical&&(o=o>=p[t].max?p[t].max:o)),null!=p[t].maxY&&(n=n>=p[t].maxY?p[t].maxY:n),null!=p[t].maxX&&(o=o>=p[t].maxX?p[t].maxX:o),r.elems[t].style[v]="translate3d("+(r.options.horizontal?o:"0")+"px,"+(r.options.vertical?n:"0")+"px,"+p[t].zindex+"px) "+p[t].transform}r.options.callback(e)};return r.destroy=function(){for(var e=0;e<r.elems.length;e++)r.elems[e].style.cssText=p[e].style;d||(window.removeEventListener("resize",b),d=!0),x(m),m=null},b(),r.refresh=b,r}console.warn("Rellax: The elements you're trying to select don't exist.")};return e});