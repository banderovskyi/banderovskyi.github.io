!function(n){n.fn.simplePopup=function(s){var t={settings:{hashtag:"#/",url:"popup",event:s||"click"},initialize:function(s){var i=n(".js__popup"),e=n(".js__p_body"),o=n(".js__p_close"),a=t.settings.hashtag+t.settings.url,c=s[0].className;if(c.indexOf(" ")>=0){c=c.split(" ");for(key in c)0===c[key].indexOf("js__p_")&&(c=c[key])}var h=c.replace("js__p_","");"start"!==h&&(h=h.replace("_start","_popup"),i=n(".js__"+h),a=t.settings.hashtag+h),s.on(t.settings.event,function(){return t.show(i,e,a),!1}),n(window).on("load",function(){t.hash(i,e,a)}),e.on("click",function(){t.hide(i,e)}),o.on("click",function(){return t.hide(i,e),!1}),n(window).keyup(function(n){27===n.keyCode&&t.hide(i,e)})},centering:function(n){var s=-n.width()/2;return n.css("margin-left",s)},show:function(n,s,i){t.centering(n),s.removeClass("js__fadeout"),n.removeClass("js__slide_top"),location.hash=i},hide:function(n,s){n.addClass("js__slide_top"),s.addClass("js__fadeout"),location.hash=t.settings.hashtag},hash:function(n,s,i){location.hash===i&&t.show(n,s,i)}};return this.each(function(){var s=n(this);t.initialize(s)})}}(jQuery);